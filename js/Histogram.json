{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "title": "Correlations between profit and market value for companies featured in Forbes 2000 in 2019",
  "data": {
    "url": "https://raw.githubusercontent.com/JonYatSo/FIT3179-Assignment-2/main/data/Forbes_Global_2000_for_2019_cleaned_v4.csv"
  },
  "hconcat":[{
    "width": 800,
    "height": 600,
    "layer":[{
      "selection": {
          "brush": {"type": "interval", "encodings": ["x"]}},
      "mark": "bar",
      "encoding": {
        "x": {
          "bin": {"binned": false, "step": 0.02},
          "field": "ProfitPerAsset",
          "title": "Amount of profit per dollar of asset owned"
        },
        "y": {"aggregate": "count",
        "title": "Count"},
        "tooltip": [
          {"aggregate": "count", "type": "quantitative", "title": "Count"}
    ]
      }
      },{
        "mark": "rule",
        "encoding": {
          "x": {"aggregate":"mean","field":"ProfitPerAsset"},
          "color": {"value": "red"},
          "size": {"value":3}
              }}]
  }, {"width": 300,
      "height": 600,
      "mark": "bar",
      "encoding": {
        "x": {
          "bin": {"binned": false, "step": 0.005,"extent": {"selection": "brush"}},
          "field": "ProfitPerAsset",
          "title": "<---drag through a range on the left histogram to see details"
        },
        "y": {"aggregate": "count",
        "title": ""},
        "tooltip": [
          {"aggregate": "count", "type": "quantitative", "title": "Count"}
    ]
      }
      }]
}

